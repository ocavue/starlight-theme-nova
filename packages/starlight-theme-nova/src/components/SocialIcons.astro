---
import { Icon } from '@astrojs/starlight/components'
import config from 'virtual:starlight/user-config'

const links = config.social || []

if (!Array.isArray(links)) {
  const message =
    '[starlight-theme-nova] ' +
    'Starlight v0.33.0 changed the `social` configuration syntax. Please specify an array of link items instead of an object.\n' +
    'See the Starlight changelog for details: https://github.com/withastro/starlight/blob/cf3cec1b/packages/starlight/CHANGELOG.md#0330\n'
  throw new Error(message)
}
---

{
  links.length > 0 && (
    <>
      {links.map(({ label, href, icon }) => (
        <a href={href} rel="me" class="nova-icon-button">
          <span class="sr-only">{label}</span>
          <Icon name={icon} size="1rem" color="currentColor" />
        </a>
      ))}
    </>
  )
}
